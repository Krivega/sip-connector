<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css" />
    <link rel="stylesheet" href="/styles.css" />

    <title>Demo sip-connector call</title>
  </head>
  <body>
    <main>
      <form id="callForm">
        <label for="serverAddress">
          Адрес сервера
          <input
            type="text"
            id="serverAddress"
            name="serverAddress"
            placeholder="sip.example.com"
            required
          />
        </label>

        <label for="displayName">
          Отображаемое имя
          <input
            type="text"
            id="displayName"
            name="displayName"
            placeholder="Иван Иванов"
            required
          />
        </label>

        <label>
          <input type="checkbox" id="authEnabled" name="authEnabled" />
          Авторизация
        </label>

        <label for="userNumber">
          Номер пользователя
          <input type="text" id="userNumber" name="userNumber" placeholder="1001" />
        </label>

        <label for="password">
          Пароль
          <input
            type="password"
            id="password"
            name="password"
            placeholder="••••••••"
            autocomplete="current-password"
          />
        </label>

        <label for="conferenceNumber">
          Номер конференции
          <input
            type="text"
            id="conferenceNumber"
            name="conferenceNumber"
            placeholder="2001"
            required
          />
        </label>
      </form>

      <section id="localVideoSection" class="hidden">
        <h3>Локальное видео</h3>
        <video class="local-video" id="localVideo" autoplay playsinline muted></video>
        <video class="local-video hidden" id="presentationVideo" autoplay playsinline muted></video>
      </section>

      <section id="activeCallSection" class="hidden">
        <section>
          <h3>Удаленные потоки</h3>
          <div id="remoteStreamsContainer"></div>
        </section>

        <section>
          <h3>Статус</h3>
          <div id="participantRole" class="status-box"></div>
        </section>

        <section>
          <h3>Лицензия</h3>
          <div id="useLicense" class="status-box"></div>
        </section>
      </section>

      <section>
        <h3>Статусы</h3>
        <div id="sessionStatuses" class="session-statuses">
          <span>Connection</span><span id="connectionStatus">-</span> <span>Call</span
          ><span id="callStatus">-</span> <span>Incoming</span><span id="incomingStatus">-</span>
          <span>Screen share</span><span id="presentationStatus">-</span> <span>System</span
          ><span id="systemStatus">-</span>
        </div>
      </section>

      <section id="logsContainer">
        <h3>Логи событий</h3>
        <div class="logs-controls">
          <button id="clearLogsButton" type="button">clear logs</button>
          <input
            id="filterLogsInput"
            type="text"
            placeholder="Имя события..."
            class="filter-logs-input"
          />
        </div>
        <div id="logsList"></div>
      </section>
    </main>

    <div id="loaderOverlay" class="loader-overlay hidden"></div>

    <div class="floating-action-panel">
      <button id="callButton" type="button">Позвонить</button>
      <button id="endCallButton" type="button" class="hidden">Завершить звонок</button>
      <button id="toggleCameraButton" type="button" class="hidden">
        <span id="toggleCameraButtonText">Выключить камеру</span>
      </button>
      <button id="toggleMicButton" type="button" class="hidden">
        <span id="toggleMicButtonText">Выключить микрофон</span>
      </button>
      <button id="startPresentationButton" type="button" class="hidden">Начать презентацию</button>
      <button id="stopPresentationButton" type="button" class="hidden">Завершить презентацию</button>
      <button id="startStressTestingPresentationButton" type="button" class="hidden">Начать стрессовое тестирование презентации (50 попыток)</button>
    </div>

    <script type="module" src="demo/index.ts"></script>
  </body>
</html>
