# sip-connector

[![npm](https://img.shields.io/npm/v/sip-connector?style=flat-square)](https://www.npmjs.com/package/sip-connector)
![npm bundle size](https://img.shields.io/bundlephobia/minzip/sip-connector?style=flat-square)

---

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

**sip-connector** ‚Äî —ç—Ç–æ TypeScript SDK –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ WebRTC-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π Vinteo —á–µ—Ä–µ–∑ SIP-–ø—Ä–æ—Ç–æ–∫–æ–ª. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –±–∞–∑–µ `@krivega/jssip` –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–∏–¥–µ–æ–∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–π.

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è                    | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏                                                                                                            |
| ---------------------------- | ---------------------------------------------------------------------------------------------------------------------- |
| **SIP-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**          | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (SIP REGISTER), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏                                                             |
| **WebRTC-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏**      | –ò—Å—Ö–æ–¥—è—â–∏–µ/–≤—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ (SIP INVITE/200 OK), –º–µ–¥–∏–∞-–ø–æ—Ç–æ–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ transceiver'–∞–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ICE |
| **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏**              | –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ—Ç–æ–∫–∞ (screen sharing, –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞)                                                          |
| **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**      | DTMF, SIP INFO, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞-—Å–æ—Å—Ç–æ—è–Ω–∏—è                                                                          |
| **–°–æ–±—ã—Ç–∏–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**   | –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏                                                                       |
| **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**               | WebRTC-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (RTCRtpStats, ICE candidate stats)                                                                   |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è–º–∏** | –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –º–µ–∂–¥—É —Ä–æ–ª—è–º–∏ (—É—á–∞—Å—Ç–Ω–∏–∫/–∑—Ä–∏—Ç–µ–ª—å)                                                                 |
| **–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏–µ**           | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π                                                              |
| **–ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**          | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä—ã–≤–∞—Ö —Å–≤—è–∑–∏                                                                       |

- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π polling**: –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–æ—Å–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–∏–¥–µ–æ—Ç—Ä–µ–∫–æ–≤
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ maxBitrate –≤ PresentationManager**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏—Ç—Ä–µ–π—Ç–æ–º –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
- **–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–¥–µ–∫–∏ –≤ SipConnector**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –∫–æ–¥–µ–∫–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã —Ç—Ä–µ–∫–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–∏–¥–µ–æ—Ç—Ä–µ–∫–æ–≤
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ WebRTC —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ICE**: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π `restart` –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–∑–æ–≤–æ–º `restartIce`
  |

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

SDK –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É **—Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:

- **SipConnector** ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Å–ª–æ–π —Å –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏ (Connection, Call, Presentation, API, AutoConnector)
- **SipConnectorFacade** ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Ñ–∞—Å–∞–¥ —Å –≥–æ—Ç–æ–≤—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã** ‚Äî –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –º–µ–¥–∏–∞-–ø–æ—Ç–æ–∫–æ–≤, –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ö–æ–º–∞–Ω–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# npm
npm install sip-connector

# yarn
yarn add sip-connector

# pnpm
pnpm add sip-connector
```

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –∑–≤–æ–Ω–∫–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç"](./docs/recipes/basic-setup.md).

---

## üìû –í—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–†–∞–±–æ—Ç–∞ —Å –≤—Ö–æ–¥—è—â–∏–º–∏ –∑–≤–æ–Ω–∫–∞–º–∏"](./docs/recipes/incoming-calls.md).

---

## üñ•Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è–º–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è–º–∏"](./docs/recipes/presentations.md).

---

## üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏"](./docs/recipes/conference-participants.md).

---

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞-–ø–æ—Ç–æ–∫–∞–º–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ—Ç–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞-–ø–æ—Ç–æ–∫–∞–º–∏"](./docs/recipes/media-management.md).

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ ICE-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ä—É—á–Ω–æ–≥–æ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ ICE –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ ICE-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"](./docs/recipes/ice-restart.md).

---

## üì° –°–æ–±—ã—Ç–∏—è –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞

SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:

| –ü—Ä–µ—Ñ–∏–∫—Å            | –û–ø–∏—Å–∞–Ω–∏–µ                 | –ü—Ä–∏–º–µ—Ä—ã —Å–æ–±—ã—Ç–∏–π                                                                |
| ------------------ | ------------------------ | ------------------------------------------------------------------------------ |
| `connection:*`     | –°–æ–±—ã—Ç–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è      | `connected`, `disconnected`                                                    |
| `call:*`           | –°–æ–±—ã—Ç–∏—è –∑–≤–æ–Ω–∫–æ–≤          | `accepted`, `ended`, `failed`, `remote-streams-changed`                        |
| `api:*`            | –°–æ–±—ã—Ç–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞       | `enterRoom`, `useLicense`, `restart`, `participant:move-request-to-spectators` |
| `incoming-call:*`  | –°–æ–±—ã—Ç–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –∑–≤–æ–Ω–∫–æ–≤ | `incomingCall`                                                                 |
| `presentation:*`   | –°–æ–±—ã—Ç–∏—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π      | `started`, `stopped`                                                           |
| `stats:*`          | –°–æ–±—ã—Ç–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏       | `collected`                                                                    |
| `video-balancer:*` | –°–æ–±—ã—Ç–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏     | `balancing-started`, `parameters-updated`                                      |

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π, –≤–∫–ª—é—á–∞—è –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —Å–æ–±—ã—Ç–∏—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –≤–∏–¥–µ–æ, –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π"](./docs/recipes/events-handling.md).

---

## üìà WebRTC –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é WebRTC-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ [W3C WebRTC Statistics API](https://www.w3.org/TR/webrtc-stats/), –≤–∫–ª—é—á–∞—é—â—É—é RTP —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –∫–æ–¥–µ–∫–∏, ICE –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Å–±–æ—Ä–∞ –∏ —Ç–∏–ø–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "WebRTC –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞"](./docs/recipes/webrtc-stats.md).

---

## ‚ö° –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–ø—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤

SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–ø—Ä–∞—à–∏–≤–∞–Ω–∏–µ** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞—Ö, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU –Ω–∞ 40-60% –ø—Ä–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º –≤–∏–¥–µ–æ.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∞–ª–≥–æ—Ä–∏—Ç–º –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–ø—Ä–∞—à–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤"](./docs/recipes/adaptive-polling.md).

---

## üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º

`VideoSendingBalancer` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `SipConnector` –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –≤–∏–¥–µ–æ.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∏ —Å–æ–±—ã—Ç–∏–π –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–º"](./docs/recipes/video-balancing.md).

---

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

`ConnectionQueueManager` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –≥–æ–Ω–∫–∏ —É—Å–ª–æ–≤–∏–π.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏"](./docs/recipes/connection-queue.md).

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

`AutoConnectorManager` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –ø—Ä–∏ –æ–±—Ä—ã–≤–∞—Ö —Å–≤—è–∑–∏ –∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Å–µ—Ç—å—é.

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Ä–∞–±–æ—Ç—ã –∏ —Å–æ–±—ã—Ç–∏–π –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"](./docs/recipes/auto-reconnection.md).

---

## üîß API –∏ —ç–∫—Å–ø–æ—Ä—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã

```typescript
import {
  SipConnector, // –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API
  SipConnectorFacade, // –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π —Ñ–∞—Å–∞–¥
  StatsPeerConnection, // –°–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  // ... –¥—Ä—É–≥–∏–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
} from 'sip-connector';
```

### –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º

```typescript
// SipConnectorFacade –º–µ—Ç–æ–¥—ã
const facade = new SipConnectorFacade(sipConnector);

// –ó–∞–º–µ–Ω–∞ –º–µ–¥–∏–∞-–ø–æ—Ç–æ–∫–∞
await facade.replaceMediaStream(mediaStream, options);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
const streams = facade.getRemoteStreams();

// –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ ICE-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API)
await sipConnector.callManager.restartIce(options);
```

### –£—Ç–∏–ª–∏—Ç—ã –∏ —Ç–∏–ø—ã

```typescript
import {
  // –£—Ç–∏–ª–∏—Ç—ã
  tools, // getUserAgent, getExtraHeaders, hasPurgatory
  hasAvailableStats, // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

  // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
  EStatsTypes, // –¢–∏–ø—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  EMimeTypesVideoCodecs, // MIME-—Ç–∏–ø—ã –∫–æ–¥–µ–∫–æ–≤
  EUseLicense, // –¢–∏–ø—ã –ª–∏—Ü–µ–Ω–∑–∏–π

  // –¢–∏–ø—ã
  type TContentHint, // –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
  type TInboundStats, // –í—Ö–æ–¥—è—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  type TOutboundStats, // –ò—Å—Ö–æ–¥—è—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  type TRestartData, // –î–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è restart
  type ITransceiverStorage, // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—Ä–∞–Ω–µ–Ω–∏—è transceiver'–æ–≤
} from 'sip-connector';
```

---

## üìö –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏"](./docs/recipes/best-practices.md).

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤–∫–ª—é—á–µ–Ω–∏—è –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ [—Ä–µ—Ü–µ–ø—Ç–µ "–û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"](./docs/recipes/debugging.md).

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
npm test

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage

# –¢–µ—Å—Ç—ã –≤ watch —Ä–µ–∂–∏–º–µ
npm run test:watch
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã

SDK –≤–∫–ª—é—á–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –º–æ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

| –ú–æ–∫                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ           | –û–ø–∏—Å–∞–Ω–∏–µ                   |
| ----------------------- | -------------------- | -------------------------- |
| `RTCPeerConnectionMock` | WebRTC API           | –ò–º–∏—Ç–∞—Ü–∏—è WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| `UA.mock.ts`            | SIP-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | –ò–º–∏—Ç–∞—Ü–∏—è SIP User Agent    |
| `BaseSession.mock.ts`   | –°–µ—Å—Å–∏–∏               | –ò–º–∏—Ç–∞—Ü–∏—è SIP —Å–µ—Å—Å–∏–π        |

---

## üåê –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –±—Ä–∞—É–∑–µ—Ä–æ–≤

### WebRTC –ø–æ–¥–¥–µ—Ä–∂–∫–∞

SDK –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ WebRTC API –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å:

| –ë—Ä–∞—É–∑–µ—Ä     | –í–µ—Ä—Å–∏—è | –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                    |
| ----------- | ------ | ----------------- | ------------------------------ |
| **Chrome**  | 67+    | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞  | –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WebRTC         |
| **Firefox** | 60+    | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞  | –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WebRTC         |
| **Safari**  | 11+    | –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–¥–µ–∫–æ–≤ |
| **Edge**    | 79+    | –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞  | Chromium-based                 |

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WebRTC
if (!navigator.mediaDevices?.getUserMedia) {
  throw new Error('WebRTC –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π
if (!navigator.mediaDevices?.getDisplayMedia) {
  console.warn('Screen sharing –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ICE restart
if (!RTCPeerConnection.prototype.restartIce) {
  console.warn('ICE restart –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ —ç—Ç–æ–º –±—Ä–∞—É–∑–µ—Ä–µ');
}
```

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–†–µ—Ü–µ–ø—Ç—ã**: [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —Ä–µ—Ü–µ–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](./docs/recipes/README.md)
- **API Reference**: –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Ç–∏–ø–æ–≤
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: [–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã](./docs/arch/README.md)

### –°–æ–æ–±—â–µ—Å—Ç–≤–æ

- **Issues**: [GitHub Issues](https://github.com/Krivega/sip-connector/issues)
- **Discussions**: –û–±—Å—É–∂–¥–µ–Ω–∏—è –∏ –≤–æ–ø—Ä–æ—Å—ã
- **Contributing**: –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—á–∞—Å—Ç–∏—é –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

### Krivega Dmitriy

- üåê Website: [krivega.com](https://krivega.com)
- üì± Github: [@Krivega](https://github.com/Krivega)
- üìß Email: <mr.krivega@gmail.com>

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Copyright ¬© 2021‚Äë2026 [Krivega Dmitriy](https://github.com/Krivega).

This project is licensed under the [MIT License](https://github.com/Krivega/sip-connector/blob/master/LICENSE) - see the LICENSE file for details.
